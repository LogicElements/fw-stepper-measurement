#define STAT_BIT_ERROR                (1 << (0))
#define STAT_BIT_TESTING              (1 << (1))
#define STAT_BIT_CALIBRATION          (1 << (2))
#define STAT_BIT_MB_TIMEOUT           (1 << (3))
#define STAT_BIT_CONFIG_FLASH         (1 << (16))
#define STAT_BIT_WATCHDOG             (1 << (17))
/** End of bits **/
#define CONF_REG_BLOCK_NUMBER      (26)
#define CONF_REG_LOGGER_NUMBER     (0)
#define CONF_REG_CALIB_NUMBER      (1)
#define CONF_REG_SYNCED_NUMBER     (0)
#define CONF_REG_FLASH_NUMBER      (5)
#define CONF_REG_LOGGER_LENGTH     (0)
#define CONF_REG_CALIB_LENGTH      (8)
#define CONF_REG_SYNCED_LENGTH     (0)
#define CONF_REG_FLASH_LENGTH      (29)
#define CONF_REG_LOCAL_LENGTH      (0)

#define CONF_DIM_CONDITION ((sizeof(conf_reg_sys_t) != 24) || (sizeof(conf_reg_fact_t) != 16) || (sizeof(conf_reg_firm_t) != 16) || (sizeof(conf_reg_com_t) != 12) || (sizeof(conf_reg_stpmea_t) != 12) || (sizeof(conf_reg_dbg_t) != 4) || 0)
/** End of header **/

typedef enum
{
  MB_BAUD_9600 = 0,
  MB_BAUD_19200 = 1,
  MB_BAUD_38400 = 2,
  MB_BAUD_57600 = 3,
  MB_BAUD_115200 = 4,
}com_mb_baud_rate_t ;

typedef enum
{
  MB_PARITY_NONE = 0,
  MB_PARITY_EVEN = 1,
  MB_PARITY_ODD = 2,
}com_mb_parity_t ;

typedef enum
{
  MB_STOP_1 = 0,
  MB_STOP_2 = 1,
}com_mb_stop_bits_t ;

typedef struct __packed __aligned(4)
{
  uint32_t uptime;
  uint32_t regmap_version;
  uint32_t status;
  uint32_t command;
  uint32_t test;
  uint16_t io_input;
}conf_reg_sys_t;

typedef struct __packed __aligned(4)
{
  uint32_t serial_number;
  uint32_t device_id;
  uint32_t hw_revision;
  uint32_t boot_revision;
}conf_reg_fact_t;

typedef struct __packed __aligned(4)
{
  uint32_t revision;
  uint32_t assembly_info;
  uint32_t app_checksum;
  uint32_t app_size;
}conf_reg_firm_t;

typedef struct __packed __aligned(4)
{
  com_mb_baud_rate_t mb_baud_rate;
  com_mb_parity_t mb_parity;
  com_mb_stop_bits_t mb_stop_bits;
  uint8_t reserved;
  uint16_t mb_address;
  uint16_t mb_apply;
  uint16_t mb_timeout;
}conf_reg_com_t;

typedef struct __packed __aligned(4)
{
  uint32_t steps;
  uint32_t stall;
  uint32_t buff;
}conf_reg_stpmea_t;

typedef struct __packed __aligned(4)
{
  uint32_t writes_conf;
}conf_reg_dbg_t;


typedef struct 
{
  conf_reg_sys_t sys;
  conf_reg_fact_t fact;
  conf_reg_firm_t firm;
  conf_reg_com_t com;
  uint32_t res5;
  conf_reg_stpmea_t stpmea;
  conf_reg_dbg_t dbg;
  uint32_t res8;
  uint32_t res9;
  uint32_t res10;
  uint32_t res11;
  uint32_t res12;
  uint32_t res13;
  uint32_t res14;
  uint32_t res15;
  uint32_t res16;
  uint32_t res17;
  uint32_t res18;
  uint32_t res19;
  uint32_t res20;
  uint32_t res21;
  uint32_t res22;
  uint32_t res23;
  uint32_t res24;
  uint32_t res25;
  uint32_t res26;
}
conf_reg_t;

/** End of enum **/
conf_reg_t conf;


uint8_t* const CONF_REG[CONF_REG_BLOCK_NUMBER] = {(uint8_t*)&conf.sys, (uint8_t*)&conf.fact, (uint8_t*)&conf.firm, (uint8_t*)&conf.com, NULL, (uint8_t*)&conf.stpmea, (uint8_t*)&conf.dbg, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, };

const uint32_t CONF_REG_LIMIT[CONF_REG_BLOCK_NUMBER] = {
22, 16, 16, 10, 0, 12, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, };

const uint32_t CONF_REG_FLASH[CONF_REG_FLASH_NUMBER] = {
CONF_SYS_REGMAP_VERSION, CONF_COM_MB_BAUD_RATE, CONF_COM_MB_PARITY, CONF_COM_MB_STOP_BITS, CONF_COM_MB_TIMEOUT, };

const uint32_t CONF_REG_LOGGER[CONF_REG_LOGGER_NUMBER] = {
};

const uint32_t CONF_REG_CALIB[CONF_REG_CALIB_NUMBER] = {
CONF_FACT_SERIAL_NUMBER, };

const uint32_t CONF_REG_SYNCED[CONF_REG_SYNCED_NUMBER] = {
};

